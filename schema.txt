CREATE TABLE USER(
	USERID VARCHAR(255),
	NAME VARCHAR(30) NOT NULL,
	PASSWORD VARCHAR(50) NOT NULL,
	DOB DATE NOT NULL,
	PH_NUM VARCHAR(11) NOT NULL,
	CONSTRAINT USER_PK PRIMARY KEY USERID
);

CREATE TABLE CROPS(
	CROPID VARCHAR(255),
	TYPE VARCHAR(30) NOT NULL,
	C_REQ DOUBLE NOT NULL,
	N_REQ DOUBLE NOT NULL,
	P_REQ DOUBLE NOT NULL,
	PH_REQ DOUBLE NOT NULL,
	PHP_REQ DOUBLE NOT NULL,
	TEMP_REQ DOUBLE NOT NULL,
	WATER_REQ DOUBLE NOT NULL,
	CONSTRAINT CROPS_PK PRIMARY KEY CROPID,
	CONSTRAINT TYPE_CHK CHECK (TYPE IN ('FOOD', 'INDUSTRIAL', 'MEDICINAL'))
);

CREATE TABLE SOIL(
	SOILID VARCHAR(255),
	TYPE VARCHAR(30) NOT NULL,
	C_AMT DOUBLE NOT NULL,
	N_AMT DOUBLE NOT NULL,
	P_AMT DOUBLE NOT NULL,
	PH_AMT DOUBLE NOT NULL,
	PHP_AMT DOUBLE NOT NULL,
	AREAID VARCHAR(255) NOT NULL,
	CONSTRAINT CROPS_PK PRIMARY KEY CROPID,
	CONSTRAINT SOIL_FK FOREIGN KEY AREAID REFERENCES AREAS(AREAID),
	CONSTRAINT SOIL_CHK CHECK (TYPE IN ('ALLUVIAL', 'BLACK', 'CLAY', 'LOAMY', 'SANDY', 'RED'))
);

CREATE TABLE WEATHER(
	AREAID VARCHAR(255),
	TEMP DOUBLE NOT NULL,
	PRESSURE DOUBLE NOT NULL,
	RAINFALL DOUBLE NOT NULL,
	HUMIDITY DOUBLE NOT NULL,
	CONSTRAINT WEATHER_PK PRIMARY KEY AREAID,
	CONSTRAINT WEATHER_FK FOREIGN KEY AREAID REFERENCES AREAS(AREAID)
);

CREATE TABLE STAT(
	USERID VARCHAR(255),
	RICE INT DEFAULT 0,
	WHEAT INT DEFAULT 0,
	POTATO INT DEFAULT 0,
	SOYABEANS INT DEFAULT 0,
	MAIZE INT DEFAULT 0,
	SUGARCANE INT DEFAULT 0,
	CONSTRAINT STAT_PK PRIMARY KEY USERID,
	CONSTRAINT STAT_FK FOREIGN KEY USERID REFERENCES USER(USERID)
);

CREATE TABLE AREAS(
	AREAID VARCHAR(255),
	NAME VARCHAR(100) NOT NULL,
	IMGURL VARCHAR(255) NOT NULL,
	PINCODE VARCHAR(10) NOT NULL,
	USERID VARCHAR(255) NOT NULL,
	CONSTRAINT AREAS_PK PRIMARY KEY AREAID,
	CONSTRAINT AREAS_FK FOREIGN KEY USERID REFERENCES USER(USERID)
);